{% extends "base.html" %}

{% block title %}
    Bank App
{% endblock %}

{% block content %}
    <div class="hero">
        <h1>Welcome to Zelda Bank App!</h1>
    </div>

    <main>
        <section>
            <h2>Accounts</h2>

            <table>
                <tr>
                    <th>Account Name</th>
                    <th>Balance</th>
                    <th>Currency</th>
                </tr>
                {% for name in accounts %}
                <tr>
                    <td>{{ name }}</td>
                    <td>{{ accounts[name]['balance'] }}</td>
                    <td>{{ accounts[name]['currency'] }}</td>
                </tr>
                {% endfor %}
            </table>
        </section>

        <section>
            <h2>Transfer Money</h2>

            <form action="/transfer" method="POST">
                <div class="form-group">
                    <label for="sender">Sender:</label>
                    <select name="sender" id="sender" required>
                        {% for name in accounts %}
                        <option value="{{ name }}">{{ name }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="recipient">Recipient:</label>
                    <select name="recipient" id="recipient" required>
                        {% for name in accounts %}
                        <option value="{{ name }}">{{ name }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="amount">Amount:</label>
                    <input type="number" step="0.01" name="amount" id="amount" required>
                </div>

                <div class="form-group">
                    <button type="submit" class="button">Transfer</button>
                </div>
            </form>
        </section>

        <section>
            <h2>Add Client</h2>

            <form action="/add_client" method="POST">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" name="name" id="name" required>
                </div>

                <div class="form-group">
                    <label for="currency">Currency:</label>
                    <select name="currency" id="currency" required>
                        {% for code, symbol in currencies.items() %}
                        <option value="{{ code }}">{{ code }} ({{ symbol }})</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="balance">Balance:</label>
                    <input type="number" step="0.01" name="balance" id="balance" required>
                </div>

                <div class="form-group">
                    <button type="submit" class="button">Add Client</button>
                </div>
            </form>
        </section>

        <section>
            <h2>Exchange Rates</h2>

            <table>
                <tr>
                    <th>Currency</th>
                    {% for code, rate in exchange_rates.items() %}
                    <th>{{ code }}</th>
                    {% endfor %}
                </tr>
                {% for code, rate in exchange_rates.items() %}
                <tr>
                    <td>{{ code }}</td>
                    {% for target_code, rate_value in rate.items() %}
                    <td>{{ rate_value }}</td>
                    {% endfor %}
                </tr>  
            {% endfor %}
        </table>
    </section>
</main>
{% endblock %}